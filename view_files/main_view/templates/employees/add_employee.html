{% extends "main_base.html" %}
{% load static %}

{% block title %}Add Employee{% endblock %}

{% block content %}
<div class="common-container">
    <div class="common-content-box">
        <h4>Add Employee</h4>

        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form.non_field_errors }}

            {% for field in form %}
            <div class="form-group mb-3">
                <label>{{ field.label_tag }}</label>
                {{ field }}
                {% if field.errors %}
                    <div class="text-danger">{{ field.errors }}</div>
                {% endif %}
            </div>
            {% endfor %}

            <button type="submit" class="btn btn-primary">Save</button>
        </form>
    </div>
</div>
{% endblock %}

{% block js %}
<script>
    // Auto-fill permanent address if checkbox is checked
    const sameTemp = document.querySelector('[name="same_as_temp"]');
    const tempAddr = document.querySelector('[name="temp_address"]');
    const permAddr = document.querySelector('[name="perm_address"]');

    if(sameTemp){
        sameTemp.addEventListener('change', function(){
            if(this.checked){
                permAddr.value = tempAddr.value;
            }
        });

        tempAddr.addEventListener('input', function(){
            if(sameTemp.checked){
                permAddr.value = tempAddr.value;
            }
        });
    }
</script>
{% endblock %}
